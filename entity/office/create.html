<!DOCTYPE html>
<html>
<head>
  <base href="/amethyst-office/">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href="https://fonts.googleapis.com/css?family=Roboto|Rubik|Open Sans" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <script src='https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js'></script>
  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <link href='style.css' rel='stylesheet'>
</head>
<body>
  <header>
    <a class="btn purple">Switch to frontend docs</a>
  </header>
  <main>
    <div class="sidebar" style='display: flex'>
      <div style='flex-grow: 1'>
      </div>
      <div class="navigation">
        <ul>
          <li><a href=''>Introduction</a></li>
                    <li><a href='entity/office/'>office</a></li>
                  </ul>
      </div>
    </div>
    <div class="container">
      <div class="content">
        <h2>Create</h2>

<p>Define a new instance of the <a href="manager.html">Manager</a></p>

<pre><code class="php">use Railken\Amethyst\Managers\OfficeManager;

$manager = new OfficeManager();
</code></pre>

<p>Create a new <a href="model.html">entity</a></p>

<pre><code class="php">$params = [
    "name" =&gt; "Mr. Boyd Lesch",
    "description" =&gt; "Et iste culpa ad quae. Modi rem et sunt enim. Quod ut minima et perferendis et et rem. Odit quis impedit eaque dolorem. Nihil est mollitia illo accusamus. Totam culpa debitis quia consequatur.",
    "address" =&gt; [
        "street" =&gt; "21646 Kautzer Landing",
        "zip_code" =&gt; "84854",
        "city" =&gt; "Hyattstad",
        "province" =&gt; "TX",
        "country" =&gt; "US"
    ],
    "company" =&gt; [
        "name" =&gt; "Brice Grady",
        "description" =&gt; "Rerum mollitia aliquid et quis voluptas. Excepturi et quasi quis voluptatem recusandae nesciunt. Ullam nam quam id. Provident laboriosam vitae est rerum quia non facilis.",
        "legal_entity" =&gt; [
            "name" =&gt; "Dr. Kane WisokykCHQe18ffCn1xwLGcpV4",
            "country" =&gt; "US",
            "code_vat" =&gt; "203458239B01",
            "code_tin" =&gt; "203458239B01",
            "registered_office_address" =&gt; [
                "street" =&gt; "3684 Kenny Gateway",
                "zip_code" =&gt; "66403-5905",
                "city" =&gt; "Shayleefurt",
                "province" =&gt; "OK",
                "country" =&gt; "US"
            ],
            "type" =&gt; [
                "name" =&gt; "Ibrahim Jakubowski",
                "description" =&gt; "Facilis quis et qui. Quae omnis deserunt qui quo et. Voluptate illo sint nobis dolor. Similique nihil distinctio enim alias facere dignissimos occaecati.",
                "enabled" =&gt; 1,
                "weight" =&gt; 1,
                "parent" =&gt; [
                    "name" =&gt; "LEGAL_ENTITY",
                    "description" =&gt; "Sint eaque est debitis totam deleniti. Perspiciatis deleniti enim ipsum dolore. Ratione at et est sit illum quis aut. Sint nobis mollitia alias asperiores.",
                    "enabled" =&gt; 1,
                    "weight" =&gt; 1
                ]
            ]
        ]
    ]
];

$result = $manager-&gt;create($params);
</code></pre>

<p>Check the result of the operation</p>

<pre><code class="php">if ($result-&gt;ok()) {
    // All ok
} else {
    // Something goes wrong
}
</code></pre>

<p>Retrieve the <a href="model.html">entity</a> from the <a href="result.html">result</a></p>

<pre><code class="php">$entity = $result-&gt;getResource();
</code></pre>

<p>Throw an exception immediately if the operation fails</p>

<pre><code class="php">use Railken\Lem\Exceptions\Exception;

$params = [
    "name" =&gt; "Mr. Boyd Lesch",
    "description" =&gt; "Et iste culpa ad quae. Modi rem et sunt enim. Quod ut minima et perferendis et et rem. Odit quis impedit eaque dolorem. Nihil est mollitia illo accusamus. Totam culpa debitis quia consequatur.",
    "address" =&gt; [
        "street" =&gt; "21646 Kautzer Landing",
        "zip_code" =&gt; "84854",
        "city" =&gt; "Hyattstad",
        "province" =&gt; "TX",
        "country" =&gt; "US"
    ],
    "company" =&gt; [
        "name" =&gt; "Brice Grady",
        "description" =&gt; "Rerum mollitia aliquid et quis voluptas. Excepturi et quasi quis voluptatem recusandae nesciunt. Ullam nam quam id. Provident laboriosam vitae est rerum quia non facilis.",
        "legal_entity" =&gt; [
            "name" =&gt; "Dr. Kane WisokykCHQe18ffCn1xwLGcpV4",
            "country" =&gt; "US",
            "code_vat" =&gt; "203458239B01",
            "code_tin" =&gt; "203458239B01",
            "registered_office_address" =&gt; [
                "street" =&gt; "3684 Kenny Gateway",
                "zip_code" =&gt; "66403-5905",
                "city" =&gt; "Shayleefurt",
                "province" =&gt; "OK",
                "country" =&gt; "US"
            ],
            "type" =&gt; [
                "name" =&gt; "Ibrahim Jakubowski",
                "description" =&gt; "Facilis quis et qui. Quae omnis deserunt qui quo et. Voluptate illo sint nobis dolor. Similique nihil distinctio enim alias facere dignissimos occaecati.",
                "enabled" =&gt; 1,
                "weight" =&gt; 1,
                "parent" =&gt; [
                    "name" =&gt; "LEGAL_ENTITY",
                    "description" =&gt; "Sint eaque est debitis totam deleniti. Perspiciatis deleniti enim ipsum dolore. Ratione at et est sit illum quis aut. Sint nobis mollitia alias asperiores.",
                    "enabled" =&gt; 1,
                    "weight" =&gt; 1
                ]
            ]
        ]
    ]
];

try {
    $result = $manager-&gt;createOrFail($params);
} catch (Exception $e) {
    // ...
}
</code></pre>

<h2>Other resources</h2>

<ul>
<li><a href="attributes.html">Attributes</a></li>
<li><a href="errors.html">Errors</a></li>
<li><a href="result.html">Handle the result</a></li>
</ul>

<hr />

<p><a href="index.html">Back</a></p>

      </div>
    </div>
  </main>
</body>
</html>